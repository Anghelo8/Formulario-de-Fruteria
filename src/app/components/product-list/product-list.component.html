<div class="container">
  <!-- Formulario -->
  <app-product-form (addProduct)="addProduct($event)"></app-product-form>

  <!-- Filtro -->
  <div class="filter">
    <input 
      #filterInput
      type="text" 
      placeholder="Buscar producto o categoría..." 
      (input)="filterValue = filterInput.value">
  </div>

  <!-- Lista -->
  <div class="product-table">
    <h3>Lista de Productos</h3>

    <p *ngIf="products.length === 0" class="empty-message">
      No hay productos disponibles.
    </p>

    <table *ngIf="products.length > 0">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Precio</th>
          <th>Descripción</th>
          <th>Categoría</th>
          <th>Cantidad</th>
          <th>Acción</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products | filter: filterValue; index as i">
          <td>{{ product.name }}</td>
          <td>S/ {{ product.price }}</td>
          <td>{{ product.description }}</td>
          <td>{{ product.category }}</td>
          <td [ngClass]="{ 'low-stock': isLowStock(product) }">
            {{ product.quantity }}
          </td>
          <td>
            <button (click)="removeProduct(i)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>